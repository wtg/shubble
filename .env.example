# =============================================================================
# SHUBBLE ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your values
# Different configurations for Native vs Docker development

# =============================================================================
# SERVICE URLS
# =============================================================================
# Configure URLs for all services. Used for CORS, nginx proxies, and API calls.
# Format: http://host:port (do not include trailing slash)
#
# Usage:
# - Backend/Worker: Uses these for CORS configuration and port binding
# - Frontend (Docker): BACKEND_URL configures nginx proxy at runtime
# - Frontend (Native): Uses Vite dev server proxy (no env var needed)
# - Test-Client (Docker): TEST_BACKEND_URL configures nginx proxy at runtime
# - Test-Client (Native): Can use VITE_TEST_BACKEND_URL to override proxy
#
# For Docker deployment, these are passed as environment variables at runtime.
# For native development, backend/worker read these from .env file.

# Main application URLs
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:5001

# Test/Mock service URLs (for development/testing)
TEST_FRONTEND_URL=http://localhost:5174
TEST_BACKEND_URL=http://localhost:4000

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string
# Native: Use localhost
DATABASE_URL=postgresql://shubble:shubble@localhost:5432/shubble
# Docker: Use postgres (service name in docker-compose.yml)
# DATABASE_URL=postgresql://shubble:shubble@postgres:5432/shubble

# =============================================================================
# REDIS CACHE
# =============================================================================
# Redis connection string
# Native: Use localhost
REDIS_URL=redis://localhost:6379/0
# Docker: Use redis (service name in docker-compose.yml)
# REDIS_URL=redis://redis:6379/0

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================
FLASK_ENV=development
FLASK_DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# SAMSARA API (Optional - for production)
# =============================================================================
# Leave empty or remove to use Mock Samsara API (test-server) in development
API_KEY=
SAMSARA_SECRET=

# For production with real Samsara API:
# API_KEY=your_samsara_api_key_here
# SAMSARA_SECRET=your_base64_encoded_webhook_secret_here

# =============================================================================
# SERVICE URLS - FOR REFERENCE ONLY
# =============================================================================
# These show where each service runs. Ports are standardized across native
# and Docker environments for consistency.

# MAIN APPLICATION SERVICES
# -------------------------
# Frontend (React + Vite)
#   Native & Docker: http://localhost:5173
#
# Backend (Flask API)
#   Native & Docker: http://localhost:5001
#
# Worker (Background GPS poller)
#   No HTTP interface - runs as background process
#
# PostgreSQL Database
#   Native & Docker: localhost:5432
#   Credentials: shubble / shubble
#   Database: shubble
#
# Redis Cache
#   Native & Docker: localhost:6379

# MOCK/TEST SERVICES (Optional)
# -----------------------------
# Test Server (Mock Samsara API)
#   Native & Docker: http://localhost:4000
#
# Test Client (Test UI)
#   Native & Docker: http://localhost:5174

# =============================================================================
# USAGE EXAMPLES
# =============================================================================
#
# Native Development:
#   DATABASE_URL=postgresql://shubble:shubble@localhost:5432/shubble
#   REDIS_URL=redis://localhost:6379/0
#   BACKEND_URL=http://localhost:5001
#   API_KEY=  (empty = use mock server)
#
# Docker Development:
#   DATABASE_URL=postgresql://shubble:shubble@postgres:5432/shubble
#   REDIS_URL=redis://redis:6379/0
#   BACKEND_URL=http://backend:5001
#   API_KEY=  (empty = use mock server)
#
# Production:
#   DATABASE_URL=postgresql://user:pass@your-db-host:5432/shubble
#   REDIS_URL=redis://your-redis-host:6379/0
#   BACKEND_URL=https://your-backend-url
#   API_KEY=your_actual_samsara_api_key
#   SAMSARA_SECRET=your_actual_webhook_secret
